{{/* Sender methods template - shared between client and initiator */}}

{{- range .Operations }}
{{- $op := . }}

// {{ methodName . }}{{ methodComment $ . }}
{{ if .Summary }}// {{ .Summary }}{{ end }}
func ({{ $.Receiver }} *{{ $.TypeName }}) {{ methodName . }}(ctx context.Context{{ methodParams $ . }}{{ if .HasParams }}, params *{{ .ParamsTypeName }}{{ end }}{{ if .HasBody }}, contentType string, body io.Reader{{ end }}, reqEditors ...RequestEditorFn) (*http.Response, error) {
	req, err := {{ requestBuilderName $ . }}({{ methodArgs $ . }}{{ if .HasParams }}, params{{ end }}{{ if .HasBody }}, contentType, body{{ end }})
	if err != nil {
		return nil, err
	}
	req = req.WithContext(ctx)
	if err := {{ $.Receiver }}.applyEditors(ctx, req, reqEditors); err != nil {
		return nil, err
	}
	return {{ $.Receiver }}.Client.Do(req)
}
{{- range .Bodies }}
{{- if .GenerateTyped }}

// {{ typedMethodName $op . }}{{ typedMethodComment $ $op . }}
func ({{ $.Receiver }} *{{ $.TypeName }}) {{ typedMethodName $op . }}(ctx context.Context{{ methodParams $ $op }}{{ if $op.HasParams }}, params *{{ $op.ParamsTypeName }}{{ end }}, body {{ .GoTypeName }}, reqEditors ...RequestEditorFn) (*http.Response, error) {
	req, err := {{ typedRequestBuilderName $ $op . }}({{ methodArgs $ $op }}{{ if $op.HasParams }}, params{{ end }}, body)
	if err != nil {
		return nil, err
	}
	req = req.WithContext(ctx)
	if err := {{ $.Receiver }}.applyEditors(ctx, req, reqEditors); err != nil {
		return nil, err
	}
	return {{ $.Receiver }}.Client.Do(req)
}
{{- end }}
{{- end }}
{{- end }}
